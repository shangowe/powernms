{% extends 'Powerapp/base.html' %}

{% block content %}
<div class="card-body">
<h2>Details for {{ module.name }}</h2>
<table class="table table-bordered" id="modeldetail" width="100%" cellspacing="0">
    <thead>
    <th>Name</th>
    <th>IP address</th>
    <th>Port</th>
    <th>Communication Status</th>
    <th>BTS</th>
    <th>HVAC</th>
    <th>GEN</th>
    <th></th>
    <th></th>
    <th></th>
    </thead>
    <tbody>
    <tr>
        <td>{{ module.name}}</td>
        <td>{{ module.ipaddress}}</td>
        <td>{{ module.port}}</td>
        <td>
           {% if  module.online_status %}
            <p class="btn btn-primary">Online</p>
            {% else %}
            <p class = "btn btn-warning">Offline</p>
            {%endif %}

        </td>
        <td>
            {% if module.btsstatus %}
           <p class="btn btn-primary">Switched ON</p>
            {% else %}
           <p class = "btn btn-warning">Switched OFF</p>
            {% endif %}
        </td>
        <td>
            {% if module.hvacstatus %}
            <p class="btn btn-primary">Switched ON</p>
            {% else %}
            <p class = "btn btn-warning">Switched OFF</p>
            {% endif %}
        </td>
        <td>
            {% if module.genstatus %}
            <p class="btn btn-primary">Switched ON</p>
            {% else %}
            <p class = "btn btn-warning">Switched OFF</p>
            {% endif %}
        </td>

        </td>
        <td> <a href="{% url 'Powerapp:deletemodule' pk=module.pk %}">Delete</a></td>
        <td> <a href="{% url 'Powerapp:updatemodule' pk=module.pk %}">Edit</a></td>
        <td> <a href="{% url 'Powerapp:history' pk=module.ipaddress %}">Updates</a></td>
    </tr>
    </tbody>
</table>
    {% if module.online_status %}
<div>
    {% if module.btsstatus %}
    <a class = "btn btn-warning" href="{% url 'Powerapp:btsoff' ip=module.ipaddress %}"> BTSoff</a>
    {% else %}
    <a class = "btn btn-primary" href="{% url 'Powerapp:btson' ip=module.ipaddress %}"> BTSon</a>
    {% endif %}
    {% if module.hvacstatus %}
    <a class = "btn btn-warning" href="{% url 'Powerapp:hvacoff' ip=module.ipaddress %}">  HVACoff</a>

    {% else %}
    <a class = "btn btn-primary" href="{% url 'Powerapp:hvacon' ip=module.ipaddress %}">  HVACon</a>
    {% endif %}
    {% if module.genstatus %}
    <a class = "btn btn-warning" href="{% url 'Powerapp:genoff' ip=module.ipaddress %}">  GENoff</a>

    {% else %}
    <a class = "btn btn-primary " href="{% url 'Powerapp:genon' ip=module.ipaddress %}">  GENon</a>
    {% endif %}

</div>
    {% else %}
<div>
    {% if module.btsstatus %}
    <a class = "btn btn-warning disabled" href="{% url 'Powerapp:btsoff' ip=module.ipaddress %}"> BTSoff</a>
    {% else %}
    <a class = "btn btn-primary disabled" href="{% url 'Powerapp:btson' ip=module.ipaddress %}"> BTSon</a>
    {% endif %}
    {% if module.hvacstatus %}
    <a class = "btn btn-warning disabled" href="{% url 'Powerapp:hvacoff' ip=module.ipaddress %}">  HVACoff</a>

    {% else %}
    <a class = "btn btn-primary disabled" href="{% url 'Powerapp:hvacon' ip=module.ipaddress %}">  HVACon</a>
    {% endif %}
    {% if module.genstatus %}
    <a class = "btn btn-warning disabled" href="{% url 'Powerapp:genoff' ip=module.ipaddress %}">  GENoff</a>

    {% else %}
    <a class = "btn btn-primary disabled" href="{% url 'Powerapp:genon' ip=module.ipaddress %}">  GENon</a>
    {% endif %}

</div>
    {% endif %}
</div>
{% endblock %}